(this["webpackJsonpml-project"]=this["webpackJsonpml-project"]||[]).push([[0],{125:function(e,t,a){},127:function(e,t,a){},128:function(e,t,a){},129:function(e,t,a){},162:function(e,t,a){"use strict";a.r(t);a(64),a(65),a(66),a(67);var n=a(1),r=a.n(n),i=a(31),o=a.n(i),s=(a(94),a(29)),c=a(42),l=a.n(c),u=a(11),d=a(82),_=a(36),m=a(0),p=function(e){return Object(m.jsxs)("div",{className:"layout-topbar clearfix",children:[Object(m.jsx)("button",{type:"button",className:"p-link layout-menu-button",onClick:e.onToggleMenu,children:Object(m.jsx)("span",{className:"pi pi-bars"})}),Object(m.jsx)("div",{className:"layout-topbar-icons",children:Object(m.jsxs)("button",{type:"button",className:"p-link",children:[Object(m.jsx)("span",{className:"layout-topbar-item-text",children:"User"}),Object(m.jsx)("span",{className:"layout-topbar-icon pi pi-user"})]})})]})},h=a(35),j=function e(t){var a=Object(n.useState)(null),i=Object(s.a)(a,2),o=i[0],c=i[1],u=function(e,a,n){if(a.disabled)return e.preventDefault(),!0;a.command&&a.command({originalEvent:e,item:a}),c(n===o?null:n),t.onMenuItemClick&&t.onMenuItemClick({originalEvent:e,item:a})},_=function(e,t){var a=function(e){var t=e.items&&Object(m.jsx)("i",{className:"pi pi-fw pi-angle-down menuitem-toggle-icon"}),a=e.badge&&Object(m.jsx)("span",{className:"menuitem-badge",children:e.badge});return Object(m.jsxs)(r.a.Fragment,{children:[Object(m.jsx)("i",{className:e.icon}),Object(m.jsx)("span",{children:e.label}),t,a]})}(e);return e.to?Object(m.jsx)(h.c,{activeClassName:"active-route",to:e.to,onClick:function(a){return u(a,e,t)},exact:!0,target:e.target,children:a}):Object(m.jsx)("a",{href:e.url,onClick:function(a){return u(a,e,t)},target:e.target,children:a})},p=t.items&&t.items.map((function(a,n){var r=o===n,i=l()(a.badgeStyleClass,{"active-menuitem":r&&!a.to});return Object(m.jsxs)("li",{className:i,children:[a.items&&!0===t.root&&Object(m.jsx)("div",{className:"arrow"}),_(a,n),Object(m.jsx)(d.a,{classNames:"p-toggleable-content",timeout:{enter:1e3,exit:450},in:r,unmountOnExit:!0,children:Object(m.jsx)(e,{items:a.items,onMenuItemClick:t.onMenuItemClick})})]},n)}));return p?Object(m.jsx)("ul",{className:t.className,children:p}):null},b=function(e){return Object(m.jsx)("div",{className:"layout-menu-container",children:Object(m.jsx)(j,{items:e.model,className:"layout-menu",onMenuItemClick:e.onMenuItemClick,root:!0})})},O=a(88),f=a(8),D=a(50),x=a(44),P=(a(105),a(15)),E=a(16),g=a(5),v=a.n(g),y=(a(125),function(){var e=Object(n.useState)([{name:"7001733",code:"7001733"}]),t=Object(s.a)(e,2),a=t[0],r=(t[1],Object(n.useState)(!1)),i=Object(s.a)(r,2),o=i[0],c=i[1],l=Object(n.useState)({}),u=Object(s.a)(l,2),d=u[0],_=u[1],p=Object(O.a)({initialValues:{country:null},validate:function(e){var t={};return e.country||(t.country="Material is required."),t},onSubmit:function(e){_(e),c(!0),p.resetForm()}}),j=Object(m.jsx)("div",{className:"p-d-flex p-jc-center",children:Object(m.jsx)(f.Button,{label:"OK",className:"p-button-text",autoFocus:!0,onClick:function(){return c(!1)}})});return Object(m.jsxs)("div",{className:"form-demo",children:[Object(m.jsx)(x.Dialog,{visible:o,onHide:function(){return c(!1)},position:"top",footer:j,showHeader:!1,breakpoints:{"960px":"80vw"},style:{width:"30vw"},children:Object(m.jsxs)("div",{className:"p-d-flex p-ai-center p-dir-col p-pt-6 p-px-3",children:[Object(m.jsx)("i",{className:"pi pi-check-circle",style:{fontSize:"5rem",color:"var(--green-500)"}}),Object(m.jsx)("h5",{children:"Registration Successful!"}),Object(m.jsxs)("p",{style:{lineHeight:1.5,textIndent:"1rem"},children:["Your account is registered under name ",Object(m.jsx)("b",{children:d.name})," ; it'll be valid next 30 days without activation. Please check"," ",Object(m.jsx)("b",{children:d.email})," for activation instructions."]})]})}),Object(m.jsx)("div",{className:"p-d-flex p-jc-center",children:Object(m.jsxs)("div",{className:"card",children:[Object(m.jsx)("h5",{className:"p-text-center",children:"Enter Material Number"}),Object(m.jsxs)("form",{onSubmit:p.handleSubmit,className:"p-fluid",children:[Object(m.jsx)("div",{className:"p-field",children:Object(m.jsxs)("span",{className:"p-float-label",children:[Object(m.jsx)(D.Dropdown,{id:"country",name:"country",value:p.values.country,onChange:p.handleChange,options:a,optionLabel:"name"}),Object(m.jsx)("label",{htmlFor:"country",children:"Material Number"})]})}),Object(m.jsx)(h.b,{to:"/DemandAndInventoryAnalysis",children:Object(m.jsx)(f.Button,{type:"submit",label:"Submit",className:"p-mt-2"})})]})]})})]})}),C=(a(126),a(127),a(128),a(129),a(28)),M=a(27),I=a(6),w=a(2),T=a(25),S=a(26),L=a(33),R=a.n(L),k=a(38),A=a.n(k),U=a(39),B=function(e){Object(C.a)(a,e);var t=Object(M.a)(a);function a(e){var n;return Object(P.a)(this,a),(n=t.call(this,e)).onPlantChange=function(e){var t=n.state.demandInfoRegressionSummaryTable.map((function(e){var t=new Date(e.period).getTime();return{executedOn:e.executed_on,plant:e.plant,x:t,y:Number(e.quantity),total_cons_converted_mp_level:e.total_cons_converted_mp_level}})),a=e.value.map((function(e){return t.filter((function(t){return t.plant===e}))})),r=e.value.map((function(e,t){return{name:e,data:a[t]}}));n.setState({plants:e.value,HistoricalConsumptionSeriesData:r})},n.state={inventoryInfo:[],demandUITable:[],materialInfo:[],demandInfoRegressionSummaryTable:[],HistoricalConsumptionSeriesData:[],plants:[]},n.productService=new T.a,n.procService=new S.a,n.plants=[{label:"1200",value:"1200"},{label:"1500",value:"1500"},{label:"1800",value:"1800"},{label:"2000",value:"2000"},{label:"3300",value:"3300"},{label:"4100",value:"4100"}],n}return Object(E.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.procService.getInventoryInfo({material:7001733}).then((function(t){return e.setState({inventoryInfo:t.data.Sheet2})})),this.procService.getDemandUITable({material:7001733}).then((function(t){return e.setState({demandUITable:t.data.Sheet2})})),this.procService.getMaterialInfo({material:7001733}).then((function(t){return e.setState({materialInfo:t.data.data})})),this.procService.getDemandInfoRegressionSummaryTable({material:7001733}).then((function(t){return e.setState({demandInfoRegressionSummaryTable:t.data.data})}))}},{key:"render",value:function(){var e=this,t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],a=new Date,n=a.getMonth(),r=a.getFullYear(),i=n>11?t[n%11]+"-"+r+1:t[n]+"-"+r,o=n+1>11?t[(n+1)%11]+"-"+r+1:t[n+1]+"-"+r,s=n+2>11?t[(n+2)%11]+"-"+r+1:t[n+2]+"-"+r,c=n+3>11?t[(n+3)%11]+"-"+r+1:t[n+3]+"-"+r,l=n+4>11?t[(n+4)%11]+"-"+r+1:t[n+4]+"-"+r,u=n+5>11?t[(n+5)%11]+"-"+r+1:t[n+5]+"-"+r,d={chart:{zoomType:"x"},title:{text:"Historical Consumption and Forcasted Demand "},subtitle:{},yAxis:{title:{text:"Quantity"}},xAxis:{title:{text:"Period"},plotBands:[{color:"#C8FDFB",from:i,to:u}],type:"datetime"},legend:{layout:"horizontal",align:"center",verticalAlign:"bottom"},tooltip:{formatter:function(){return"Color :  <b>"+this.point.color+"</b> </br> Executed on :  <b>"+this.point.executedOn+"</b> </br>  Period : <b>"+new Date(this.x).toUTCString()+" </b> </br> Plant :  <b>"+this.series.name+"</b> </br> Quantity :  <b>"+this.y+"</b>"}},plotOptions:{series:{label:{connectorAllowed:!1},pointStart:2010}},series:this.state.HistoricalConsumptionSeriesData,responsive:{rules:[{condition:{maxWidth:500},chartOptions:{legend:{layout:"horizontal",align:"center",verticalAlign:"bottom"}}}]}};return Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{className:"card",children:[Object(m.jsx)("h4",{children:"Material Information"}),Object(m.jsxs)(I.DataTable,{value:this.state.materialInfo,children:[Object(m.jsx)(w.Column,{field:"material",header:"Material Number",style:{width:"14%"}}),Object(m.jsx)(w.Column,{field:"type",header:"Type",style:{width:"14%"}}),Object(m.jsx)(w.Column,{field:"description",header:"Description",style:{width:"30%"}}),Object(m.jsx)(w.Column,{field:"group",header:"Group",style:{width:"14%"}}),Object(m.jsx)(w.Column,{field:"class",header:"Class",style:{width:"14%"}}),Object(m.jsx)(w.Column,{field:"criticality",header:"Criticality",style:{width:"14%"}})]})]}),Object(m.jsxs)("div",{className:"card",children:[Object(m.jsx)("h4",{children:"Inventory Analysis"}),Object(m.jsxs)(I.DataTable,{value:this.state.inventoryInfo,paginator:!0,rows:5,rowsPerPageOptions:[5,10,20],paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",children:[Object(m.jsx)(w.Column,{field:"plant",header:"Plant"}),Object(m.jsx)(w.Column,{field:"safety_stock",header:"Safety Stock"}),Object(m.jsx)(w.Column,{field:"opening_stock",header:"Unrestricted Stock"}),Object(m.jsx)(w.Column,{field:"warehouse_capacity",header:"Warehouse Capacity(Tons)"}),Object(m.jsx)(w.Column,{field:"quantity",header:"Delivery Month"})]})]}),Object(m.jsxs)("div",{className:"card",children:[Object(m.jsx)("h4",{children:"Demand Prediction for next 6 months across all plants"}),Object(m.jsxs)(I.DataTable,{value:this.state.demandUITable,paginator:!0,rows:5,rowsPerPageOptions:[5,10,20],paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",children:[Object(m.jsx)(w.Column,{field:"plant",header:"Plant"}),Object(m.jsx)(w.Column,{field:"avg_total_consumption",header:"Avg Annual Consumption"}),Object(m.jsx)(w.Column,{field:"5/1/21",header:"".concat(i)}),Object(m.jsx)(w.Column,{field:"6/1/21",header:"".concat(o)}),Object(m.jsx)(w.Column,{field:"7/1/21",header:"".concat(s)}),Object(m.jsx)(w.Column,{field:"8/1/21",header:"".concat(c)}),Object(m.jsx)(w.Column,{field:"9/1/21",header:"".concat(l)}),Object(m.jsx)(w.Column,{field:"10/1/21",header:"".concat(u)}),Object(m.jsx)(w.Column,{field:"prediction_error",header:"Prediction Accuracy"})]})]}),Object(m.jsxs)("div",{className:"card",children:[Object(m.jsx)("div",{children:Object(m.jsx)("div",{children:Object(m.jsx)(U.MultiSelect,{style:{width:"99.9%"},value:this.state.plants,options:this.plants,onChange:function(t){return e.onPlantChange(t)},optionLabel:"label",placeholder:"Select a Plant",display:"chip"})})}),Object(m.jsx)("div",{style:{width:"99%"},children:Object(m.jsx)(A.a,{highcharts:R.a,options:d})})]})]})}}]),a}(n.Component),N=a(12),W=function(e){Object(C.a)(a,e);var t=Object(M.a)(a);function a(e){var n;return Object(P.a)(this,a),(n=t.call(this,e)).onSeriesChange=function(e){var t=n.state.icisAlertInfoData,a=e.value.map((function(e){return t.filter((function(t){return t.serial_name===e.name})).map((function(e){var t=e.date.split("/").map((function(e,t){return 2===t?20+e:e})).join("/");return[(t=new Date(t)).getTime(),Number(e.actual_values)]}))})),r=e.value.map((function(e,t){return{name:e.name,data:a[t].splice(-150)}}));n.setState({selectSerialName:e.value,seriesData:r})},n.oncostDriverSeriesChange=function(e){var t=n.state.icisForecastSummaryTable,a=e.value.map((function(e){return t.filter((function(t){return t.serial_name===e.name})).map((function(e){var t=e.date.split("/").map((function(e,t){return 2===t?20+e:e})).join("/");return[(t=new Date(t)).getTime(),Number(e.price)]}))})),r=e.value.map((function(e,t){return{name:e.name,data:a[t].splice(-150)}}));n.setState({costDriverSeries:e.value,costDriverSeriesData:r})},n.onCostDriverChange=function(e){n.setState({costDriver:e.value})},n.state={materialInfo:[],selectSerialName:null,icisAlertInfoData:[],seriesData:[],costDriverSeriesData:[],costdriverChart:!0,costDriver:[],costDriverSeries:[],icisForecastSummaryTable:[],order:[]},n.productService=new T.a,n.procService=new S.a,n.seriesName=[{name:"LLDPE Bulk Africa E Weekly",code:"LLDPE Bulk Africa E Weekly"},{name:"PE LLDPE Film Butene CFR Peru International 0 - 6 Weeks",code:"PE LLDPE Film Butene CFR Peru International 0 - 6 Weeks"},{name:"Flat Yarn Contract China Weekly",code:"Flat Yarn Contract China Weekly"},{name:"Propylene Bulk NWE Monthly",code:"Propylene Bulk NWE Monthly"},{name:"HDPE Blow Mould Posted EU Weekly",code:"HDPE Blow Mould Posted EU Weekly"},{name:"LDPE High Grade Contract US Monthly",code:"LDPE High Grade Contract US Monthly"},{name:"Copolymer Film Contract US Monthly",code:"Copolymer Film Contract US Monthly"},{name:"LDPE Contract CFR Egypt Weekly",code:"LDPE Contract CFR Egypt Weekly"},{name:"Film Posted Bulk China Weekly",code:"Film Posted Bulk China Weekly"},{name:"HDPE Film Contract EU Weekly",code:"HDPE Film Contract EU Weekly"},{name:"LDPE High Grade Peru International Weekly",code:"LDPE High Grade Peru International Weekly"},{name:"HDPE Bulk Contract DEL US Monthly",code:"HDPE Bulk Contract DEL US Monthly"},{name:"Copolymer Domestic UK Weekly",code:"Copolymer Domestic UK Weekly"}],n.costDrivers=[{name:"Polyethylene (Africa)",code:"Polyethylene (Africa)"},{name:"Polypropylene (Middle East)",code:"Polypropylene (Middle East)"},{name:"Polyethylene (Latin America)",code:"Polyethylene (Latin America)"},{name:"Polypropylene (Europe)",code:"Polypropylene (Europe)"},{name:"Polyethylene (Europe)",code:"Polyethylene (Europe)"},{name:"Polypropylene (US)",code:"Polypropylene (US)"},{name:"Polyethylene (US)",code:"Polyethylene (US)"}],n.seriesNameForAlert=[{name:"Film Posted DEL India 0-7 Days",code:"Film Posted DEL India 0-7 Days"},{name:"HDPE Blow Mould Domestic FD EU no-data",code:"HDPE Blow Mould Domestic FD EU no-data"},{name:"Flat Yarn (Raffia) Spot DEL India W 0-7 Days",code:"Flat Yarn (Raffia) Spot DEL India W 0-7 Days"},{name:"HDPE Film Domestic FD EU no-data",code:"HDPE Film Domestic FD EU no-data"}],n}return Object(E.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.procService.getMaterialInfo({material:7001733}).then((function(t){return e.setState({materialInfo:t.data.data})})),this.procService.getIcisForecastSummaryTable({material:7001733}).then((function(t){return e.setState({icisForecastSummaryTable:t.data.Sheet1})})),this.procService.getIcisAlertInfo({frequency:"weekly"}).then((function(t){var a,n=t.data.Sheet1,r=t.data.Sheet2,i=t.data.Sheet3,o=t.data.Sheet4,s=(a=[]).concat.apply(a,Object(N.a)(n).concat(Object(N.a)(r),Object(N.a)(i),Object(N.a)(o)));return e.setState({icisAlertInfoData:s})}))}},{key:"render",value:function(){var e=this,t=new Date,a=t.getMonth(),n=t.getFullYear(),r=Date.UTC(n,a,1),i=Date.UTC(n,a+5,1),o={chart:{zoomType:"x"},title:{text:"Alert Analysis"},subtitle:{},yAxis:{title:{text:"Actual Values"}},xAxis:{type:"datetime",title:{text:"Dates"},plotBands:[{color:"#C8FDFB",from:r,to:i}]},legend:{},tooltip:{valueDecimals:2,formatter:function(){return"Date of Date (Icis Alert info) : "+new Date(this.x).toUTCString()+" </br> Actual Values :  <b>"+this.y+"</b> </br>"}},plotOptions:{series:{label:{connectorAllowed:!1},pointStart:2010}},series:this.state.seriesData,responsive:{rules:[{condition:{maxWidth:600},chartOptions:{legend:{layout:"horizontal",align:"center",verticalAlign:"bottom"}}}]}},s={chart:{zoomType:"x"},title:{text:"Cost Driver Analysis"},yAxis:{title:{text:"Unit Price (USD)"}},xAxis:{title:{text:"Day of Date"},plotBands:[{color:"#C8FDFB",from:r,to:i}],type:"datetime"},tooltip:{valueDecimals:2,formatter:function(){return"Series name :  <b>"+this.series.name+"</b> </br> Avg Price :  <b>"+this.y+"</b> </br> Day of Date : <b>"+new Date(this.x).toUTCString()+"</b>"}},series:this.state.costDriverSeriesData,responsive:{rules:[{condition:{maxWidth:600},chartOptions:{}}]}};return Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{className:"card",children:[Object(m.jsx)("h4",{children:"Material Information"}),Object(m.jsxs)(I.DataTable,{value:this.state.materialInfo,children:[Object(m.jsx)(w.Column,{field:"material",header:"Material Number",style:{width:"14%"}}),Object(m.jsx)(w.Column,{field:"type",header:"Type",style:{width:"14%"}}),Object(m.jsx)(w.Column,{field:"description",header:"Description",style:{width:"30%"}}),Object(m.jsx)(w.Column,{field:"group",header:"Group",style:{width:"14%"}}),Object(m.jsx)(w.Column,{field:"class",header:"Class",style:{width:"14%"}}),Object(m.jsx)(w.Column,{field:"criticality",header:"Criticality",style:{width:"14%"}})]})]}),Object(m.jsxs)("div",{style:{display:"flex",margin:"5px 10px",float:"right"},children:[Object(m.jsx)(f.Button,{label:"Costdriver Analysis",style:{margin:"5px 10px"},onClick:function(){e.setState({costdriverChart:!0})}}),Object(m.jsx)(f.Button,{label:"Alert Analysis",style:{margin:"5px 10px"},onClick:function(){e.setState({costdriverChart:!1})}})]}),Object(m.jsxs)("div",{style:{clear:"both"},children:[!this.state.costdriverChart&&Object(m.jsxs)("div",{className:"card",children:[Object(m.jsx)(U.MultiSelect,{style:{width:"95%"},value:this.state.selectSerialName,options:this.seriesNameForAlert,onChange:function(t){return e.onSeriesChange(t)},optionLabel:"name",placeholder:"Select a Series",display:"chip"}),Object(m.jsx)("div",{style:{width:"90%"},children:Object(m.jsx)(A.a,{highcharts:R.a,options:o})})]}),this.state.costdriverChart&&Object(m.jsxs)("div",{className:"card",children:[Object(m.jsxs)("div",{style:{display:"flex",margin:"5px 10px"},children:[Object(m.jsx)(U.MultiSelect,{style:{width:"49%",margin:"5px 10px"},value:this.state.costDriver,options:this.costDrivers,onChange:function(t){return e.onCostDriverChange(t)},optionLabel:"name",placeholder:"Select a Cost Driver",display:"chip"}),Object(m.jsx)(U.MultiSelect,{style:{width:"49%",margin:"5px 10px"},value:this.state.costDriverSeries,options:this.seriesName,onChange:function(t){return e.oncostDriverSeriesChange(t)},optionLabel:"name",placeholder:"Select a Series",display:"chip"})]}),Object(m.jsx)("div",{style:{width:"100%"},children:Object(m.jsx)(A.a,{highcharts:R.a,options:s})})]})]})]})}}]),a}(n.Component),K=a(61),F=a(43),q=a(24),H=function(){function e(){Object(P.a)(this,e)}return Object(E.a)(e,[{key:"getCustomersSmall",value:function(){return v.a.get("assets/demo/data/customers-small.json").then((function(e){return e.data.data})).catch((function(e){return console.log(e)}))}},{key:"getCustomersMedium",value:function(){return v.a.get("assets/demo/data/customers-medium.json").then((function(e){return e.data.data})).catch((function(e){return console.log(e)}))}},{key:"getCustomersLarge",value:function(){return v.a.get("assets/demo/data/customers-large.json").then((function(e){return e.data.data})).catch((function(e){return console.log(e)}))}},{key:"getCustomersXLarge",value:function(){return v.a.get("assets/demo/data/customers-xlarge.json").then((function(e){return e.data.data})).catch((function(e){return console.log(e)}))}},{key:"getCustomers",value:function(e){return v.a.get("https://www.primefaces.org/data/customers",{params:e}).then((function(e){return e.data})).catch((function(e){return console.log(e)}))}}]),e}(),z=function(e){Object(C.a)(a,e);var t=Object(M.a)(a);function a(e){var n;return Object(P.a)(this,a),(n=t.call(this,e)).onRowEditInit=function(e){var t=n.state,a=t.data,r=t.InventoryInfo,i=a?r.filter((function(e){var t;return e.plant===(null===a||void 0===a||null===(t=a.data)||void 0===t?void 0:t.plant)})):r;n.originalRows[e.index]=Object(q.a)({},i[e.index])},n.onRowEditCancel=function(e){var t=n.state,a=t.data,r=t.InventoryInfo,i=a?r.filter((function(e){var t;return e.plant===(null===a||void 0===a||null===(t=a.data)||void 0===t?void 0:t.plant)})):r,o=Object(N.a)(i);o[e.index]=n.originalRows[e.index],delete n.originalRows[e.index],n.setState({InventoryInfo:o})},n.onRowEditInit1=function(e){n.originalRows[e.index]=Object(q.a)({},n.state.demandUITable[e.index])},n.onRowEditCancel1=function(e){var t=Object(N.a)(n.state.demandUITable);t[e.index]=n.originalRows[e.index],delete n.originalRows[e.index],n.setState({demandUITable:t})},n.onRowEditInit2=function(e){n.originalRows[e.index]=Object(q.a)({},n.state.customers[e.index])},n.onRowEditCancel2=function(e){var t=Object(N.a)(n.state.customers);t[e.index]=n.originalRows[e.index],delete n.originalRows[e.index],n.setState({customers:t})},n.onEditorValueChange=function(e,t,a){var r=Object(N.a)(t.value);r[t.rowIndex][t.field]=a,n.setState(Object(F.a)({},"".concat(e),r))},n.inputTextEditor=function(e,t,a){return Object(m.jsx)(_.InputText,{style:{width:"100%"},type:"text",value:t.rowData[a],onChange:function(a){return n.onEditorValueChange(e,t,a.target.value)}})},n.codeEditor=function(e,t,a){return n.inputTextEditor(e,t,a)},n.back=function(){var e=n.state,t=e.costDriver,a=e.seriesName,r=e.previousProducts,i=e.plant,o=e.supplierDetails,s=e.products;n.props.history.push("/Forcast",{costDriver:t,seriesName:a,previousProducts:r,plant:i,supplierDetails:o,products:s})},n.optimize=function(){var e=n.state,t=e.products,a=e.customers,r=e.materialInfo,i=e.InventoryInfo,o=e.demandUITable,s=e.costDriver,c=e.seriesName,l=e.previousProducts,u=e.plant;n.props.history.push("/FinalResult",{costDriver:s,seriesName:c,previousProducts:l,plant:u,products:t,customers:a,materialInfo:r,InventoryInfo:i,demandUITable:o})},n.state={costDriver:n.props.location.state?n.props.location.state.costDriver:null,seriesName:n.props.location.state?n.props.location.state.seriesName:[],previousProducts:n.props.location.state?n.props.location.state.products:[],plant:n.props.location.state?n.props.location.state.plant:null,products:[],customers:[],materialInfo:[],InventoryInfo:[],demandUITable:[],supplierDetails:n.props.location.state?n.props.location.state.supplierDetails:[]},n.editingCellRows={},n.originalRows={},n.originalRows2={},n.productService=new T.a,n.customerService=new H,n.procService=new S.a,n}return Object(E.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.productService.getProductsSmall().then((function(t){return e.setState({products:t})})),this.customerService.getCustomersMedium().then((function(t){return e.setState({customers:t})})),this.procService.getMaterialInfo({material:7001733}).then((function(t){return e.setState({materialInfo:t.data.data})})),this.procService.getInventoryInfo({material:7001733}).then((function(t){return e.setState({InventoryInfo:t.data.Sheet2})})),this.procService.getDemandUITable({material:7001733}).then((function(t){return e.setState({demandUITable:t.data.Sheet2})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.plant,n=t.InventoryInfo,r=t.supplierDetails,i=null==a&&void 0===a||!n?n:n.filter((function(e){return e.plant===a})),o=[];r.map((function(e){return o.push(e.forecastedObj,e.supplierMaxCapacity,e.leadTimeObj)}));var s=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],c=new Date,l=c.getMonth(),u=c.getFullYear(),d=l>11?s[l%11]+"-"+u+1:s[l]+"-"+u,_=l+1>11?s[(l+1)%11]+"-"+u+1:s[l+1]+"-"+u,p=l+2>11?s[(l+2)%11]+"-"+u+1:s[l+2]+"-"+u,h=l+3>11?s[(l+3)%11]+"-"+u+1:s[l+3]+"-"+u,j=l+4>11?s[(l+4)%11]+"-"+u+1:s[l+4]+"-"+u,b=l+5>11?s[(l+5)%11]+"-"+u+1:s[l+5]+"-"+u;return Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{className:"card",children:[Object(m.jsx)("h4",{children:"Material Information"}),Object(m.jsxs)(I.DataTable,{value:this.state.materialInfo,children:[Object(m.jsx)(w.Column,{field:"material",header:"Material Number",style:{width:"14%"}}),Object(m.jsx)(w.Column,{field:"type",header:"Type",style:{width:"14%"}}),Object(m.jsx)(w.Column,{field:"description",header:"Description",style:{width:"30%"}}),Object(m.jsx)(w.Column,{field:"group",header:"Group",style:{width:"14%"}}),Object(m.jsx)(w.Column,{field:"class",header:"Class",style:{width:"14%"}}),Object(m.jsx)(w.Column,{field:"criticality",header:"Criticality",style:{width:"14%"}})]})]}),Object(m.jsxs)("div",{className:"card",children:[Object(m.jsxs)("h4",{children:[" Plant Data (in Ton) ",a&&a]}),Object(m.jsxs)(I.DataTable,{value:i,editMode:"row",dataKey:"id",onRowEditInit:this.onRowEditInit,onRowEditCancel:this.onRowEditCancel,children:[Object(m.jsx)(w.Column,{field:"warehouse_capacity",header:"Warehouse Capacity(Tons)",editor:function(t){return e.codeEditor("filterData",t,"warehouse_capacity")}}),Object(m.jsx)(w.Column,{field:"safety_stock",header:"Safety Stock",editor:function(t){return e.codeEditor("filterData",t,"safety_stock")}}),Object(m.jsx)(w.Column,{field:"opening_stock",header:"Closing Stock",editor:function(t){return e.codeEditor("filterData",t,"opening_stock")}}),Object(m.jsx)(w.Column,{rowEditor:!0,headerStyle:{width:"7rem"},bodyStyle:{textAlign:"center",width:"7rem"}})]})]}),Object(m.jsxs)("div",{className:"card",children:[Object(m.jsx)("h4",{children:"Demand Prediction for next 6 months across all plants"}),Object(m.jsxs)(I.DataTable,{editMode:"row",dataKey:"id",onRowEditInit:this.onRowEditInit1,onRowEditCancel:this.onRowEditCancel1,value:this.state.demandUITable,paginator:!0,rows:5,rowsPerPageOptions:[5,10,20],paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",children:[Object(m.jsx)(w.Column,{field:"avg_total_consumption",header:"Demand Details",editor:function(t){return e.codeEditor("filterData",t,"avg_total_consumption")}}),Object(m.jsx)(w.Column,{field:"5/1/21",header:"".concat(d),editor:function(t){return e.codeEditor("demandUITable",t,"5/1/21")}}),Object(m.jsx)(w.Column,{field:"6/1/21",header:"".concat(_),editor:function(t){return e.codeEditor("demandUITable",t,"6/1/21")}}),Object(m.jsx)(w.Column,{field:"7/1/21",header:"".concat(p),editor:function(t){return e.codeEditor("demandUITable",t,"7/1/21")}}),Object(m.jsx)(w.Column,{field:"8/1/21",header:"".concat(h),editor:function(t){return e.codeEditor("demandUITable",t,"8/1/21")}}),Object(m.jsx)(w.Column,{field:"9/1/21",header:"".concat(j),editor:function(t){return e.codeEditor("demandUITable",t,"9/1/21")}}),Object(m.jsx)(w.Column,{field:"10/1/21",header:"".concat(b),editor:function(t){return e.codeEditor("demandUITable",t,"10/1/21")}}),Object(m.jsx)(w.Column,{rowEditor:!0,headerStyle:{width:"7rem"},bodyStyle:{textAlign:"center",width:"7rem"}})]})]}),Object(m.jsxs)("div",{className:"card",children:[Object(m.jsx)("h4",{children:"Plant Data"}),Object(m.jsxs)(I.DataTable,{value:o,rowGroupMode:"rowspan",groupField:"name",sortMode:"single",sortField:"name",sortOrder:1,editMode:"row",dataKey:"id",onRowEditInit:this.onRowEditInit2,onRowEditCancel:this.onRowEditCancel2,children:[Object(m.jsx)(w.Column,{field:"name",header:"Supplier Name",editor:function(t){return e.codeEditor("supplierDetails",t,"name")}}),Object(m.jsx)(w.Column,{field:"field",header:"Field",editor:function(t){return e.codeEditor("supplierDetails",t,"field")}}),Object(m.jsx)(w.Column,{field:"month1",header:"".concat(d),editor:function(t){return e.codeEditor("supplierDetails",t,"month1")}}),Object(m.jsx)(w.Column,{field:"month2",header:"".concat(_),editor:function(t){return e.codeEditor("supplierDetails",t,"month2")}}),Object(m.jsx)(w.Column,{field:"month3",header:"".concat(p),editor:function(t){return e.codeEditor("supplierDetails",t,"month3")}}),Object(m.jsx)(w.Column,{field:"month4",header:"".concat(h),editor:function(t){return e.codeEditor("supplierDetails",t,"month4")}}),Object(m.jsx)(w.Column,{field:"month5",header:"".concat(j),editor:function(t){return e.codeEditor("supplierDetails",t,"month5")}}),Object(m.jsx)(w.Column,{field:"month6",header:"".concat(b),editor:function(t){return e.codeEditor("supplierDetails",t,"month6")}}),Object(m.jsx)(w.Column,{rowEditor:!0,headerStyle:{width:"7rem"},bodyStyle:{textAlign:"center",width:"7rem"}})]})]}),Object(m.jsx)("div",{style:{display:"flex",margin:"5px 10px",float:"right"},children:Object(m.jsx)(f.Button,{label:"Optimize",style:{margin:"5px 10px"},onClick:this.optimize})})]})}}]),a}(n.Component),V=function(e){Object(C.a)(a,e);var t=Object(M.a)(a);function a(e){var n;return Object(P.a)(this,a),(n=t.call(this,e)).back=function(){var e=n.state,t=e.costDriver,a=e.seriesName,r=e.previousProducts,i=e.plant,o=e.editPageData,s=e.customers,c=e.editPageMaterialInfo,l=e.InventoryInfo,u=e.demandUITable;n.props.history.push("/EditOptimize",{costDriver:t,seriesName:a,previousProducts:r,plant:i,editPageData:o,customers:s,InventoryInfo:l,demandUITable:u,editPageMaterialInfo:c})},n.state={costDriver:n.props.location.state.costDriver,seriesName:n.props.location.state.seriesName,previousProducts:n.props.location.state.previousProducts,plant:n.props.location.state.plant,editPageData:n.props.location.state.products,customers:n.props.location.state.customers,editPageMaterialInfo:n.props.location.state.materialInfo,InventoryInfo:n.props.location.state.InventoryInfo,demandUITable:n.props.location.state.demandUITable,products:[],materialInfo:[],supplierDetails:n.props.location.state?n.props.location.state.supplierDetails:[]},n.productService=new T.a,n.procService=new S.a,n}return Object(E.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.productService.getProductsSmall().then((function(t){return e.setState({products:t})})),this.procService.getMaterialInfo({material:7001733}).then((function(t){return e.setState({materialInfo:t.data.data})}))}},{key:"render",value:function(){var e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],t=new Date,a=t.getMonth(),n=t.getFullYear(),r=a>11?e[a%11]+"-"+n+1:e[a]+"-"+n,i=a+1>11?e[(a+1)%11]+"-"+n+1:e[a+1]+"-"+n,o=a+2>11?e[(a+2)%11]+"-"+n+1:e[a+2]+"-"+n,s=a+3>11?e[(a+3)%11]+"-"+n+1:e[a+3]+"-"+n,c=a+4>11?e[(a+4)%11]+"-"+n+1:e[a+4]+"-"+n,l=a+5>11?e[(a+5)%11]+"-"+n+1:e[a+5]+"-"+n;return Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{className:"card",children:[Object(m.jsx)("h4",{children:"Material Information"}),Object(m.jsxs)(I.DataTable,{value:this.state.materialInfo,children:[Object(m.jsx)(w.Column,{field:"material",header:"Material Number",style:{width:"14%"}}),Object(m.jsx)(w.Column,{field:"type",header:"Type",style:{width:"14%"}}),Object(m.jsx)(w.Column,{field:"description",header:"Description",style:{width:"30%"}}),Object(m.jsx)(w.Column,{field:"group",header:"Group",style:{width:"14%"}}),Object(m.jsx)(w.Column,{field:"class",header:"Class",style:{width:"14%"}}),Object(m.jsx)(w.Column,{field:"criticality",header:"Criticality",style:{width:"14%"}})]})]}),Object(m.jsxs)("div",{className:"card",children:[Object(m.jsx)("h4",{children:"Ordering Schedule for Plant - 1000"}),Object(m.jsxs)(I.DataTable,{value:this.state.products,paginator:!0,rows:5,rowsPerPageOptions:[5,10,20],paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",children:[Object(m.jsx)(w.Column,{field:"code",header:"Supler Name"}),Object(m.jsx)(w.Column,{field:"quantity",header:"".concat(r)}),Object(m.jsx)(w.Column,{field:"quantity",header:"".concat(i)}),Object(m.jsx)(w.Column,{field:"quantity",header:"".concat(o)}),Object(m.jsx)(w.Column,{field:"quantity",header:"".concat(s)}),Object(m.jsx)(w.Column,{field:"quantity",header:"".concat(c)}),Object(m.jsx)(w.Column,{field:"quantity",header:"".concat(l)}),Object(m.jsx)(w.Column,{field:"quantity",header:"Total Quantities From Supplier"})]})]}),Object(m.jsx)("div",{className:"card",children:Object(m.jsxs)(I.DataTable,{value:this.state.products,paginator:!0,rows:5,rowsPerPageOptions:[5,10,20],paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",children:[Object(m.jsx)(w.Column,{field:"code",header:""}),Object(m.jsx)(w.Column,{field:"quantity",header:"".concat(r)}),Object(m.jsx)(w.Column,{field:"quantity",header:"".concat(i)}),Object(m.jsx)(w.Column,{field:"quantity",header:"".concat(o)}),Object(m.jsx)(w.Column,{field:"quantity",header:"".concat(s)}),Object(m.jsx)(w.Column,{field:"quantity",header:"".concat(c)})]})}),Object(m.jsx)("div",{className:"card",children:Object(m.jsx)(I.DataTable,{value:this.state.products,children:Object(m.jsx)(w.Column,{field:"code",header:"Error Information"})})}),Object(m.jsx)("div",{style:{display:"flex",margin:"5px 10px",float:"right"},children:Object(m.jsx)(f.Button,{label:"Back",style:{margin:"5px 10px"},onClick:this.back})})]})}}]),a}(n.Component),Y=a(13),J=a(85),G=a(86),Q=a(87),X=a(51),Z=function(e){Object(C.a)(a,e);var t=Object(M.a)(a);function a(e){var n;return Object(P.a)(this,a),(n=t.call(this,e)).emptyProduct={id:null,name:"",quality:0,price:0,Material_Number:"",Composition:0,Percentage:0},n.Onsave=function(){var e=n.state,t=e.costDriver,a=e.seriesName,r=e.products,i=e.plant;n.props.history.push("/Forcast",{costDriver:t,seriesName:a,products:r,plant:i})},n.SubmitValueselectedCity1=function(e){n.props.handleData(n.state.selectedCity1)},n.onCityChange=function(e){n.setState({selectedCity1:e.target.value})},n.onPlantChange=function(e){n.setState({plant:e.target.value})},n.leadTime=function(e,t){return Object(m.jsx)(X.InputNumber,{value:t.rowData.Percentage,onValueChange:function(a){return n.onEditorValueChange(e,t,a.value)}})},n.state={materialCostDriverOutput:[],materialInfo:[],costDriver:n.props.location.state?n.props.location.state.costDriver:null,seriesName:n.props.location.state?n.props.location.state.seriesName:[],plant:n.props.location.state?n.props.location.state.plant:null,products:n.props.location.state?n.props.location.state.products:[],countries:[],product:n.emptyProduct,productDialog:!1,deleteProductDialog:!1,deleteProductsDialog:!1,selectedProducts:null,submitted:!1,globalFilter:null,filteredCountries:null,selectedCity1:null,selectedCity2:null,filteredCities:null},n.cities=[{name:"Film Posted DEL India 0-7 Days",code:"Film Posted DEL India 0-7 Days"},{name:"HDPE Blow Mould Domestic FD EU no-data",code:"HDPE Blow Mould Domestic FD EU no-data"},{name:"Flat Yarn (Raffia) Spot DEL India W 0-7 Days",code:"Flat Yarn (Raffia) Spot DEL India W 0-7 Days"},{name:"HDPE Film Domestic FD EU no-data",code:"HDPE Film Domestic FD EU no-data"}],n.plants=[{label:"1200",value:"1200"},{label:"1500",value:"1500"},{label:"1800",value:"1800"},{label:"2000",value:"2000"},{label:"3300",value:"3300"},{label:"4100",value:"4100"}],n.countries=[{name:"Polypropylene (Middle East)",code:"Polypropylene (Middle East)"},{name:"Polyethylene (Europe)",code:"Polyethylene (Europe)"}],n.searchCountry=n.searchCountry.bind(Object(Y.a)(n)),n.editingCellRows={},n.originalRows={},n.productService=new T.a,n.procService=new S.a,n.saveProduct=n.saveProduct.bind(Object(Y.a)(n)),n.hideDialog=n.hideDialog.bind(Object(Y.a)(n)),n.openNew=n.openNew.bind(Object(Y.a)(n)),n.actionBodyTemplate=n.actionBodyTemplate.bind(Object(Y.a)(n)),n.editProduct=n.editProduct.bind(Object(Y.a)(n)),n.confirmDeleteProduct=n.confirmDeleteProduct.bind(Object(Y.a)(n)),n.deleteProduct=n.deleteProduct.bind(Object(Y.a)(n)),n.leftToolbarTemplate=n.leftToolbarTemplate.bind(Object(Y.a)(n)),n.onInputChange=n.onInputChange.bind(Object(Y.a)(n)),n.onRowEditInit=n.onRowEditInit.bind(Object(Y.a)(n)),n.onRowEditCancel=n.onRowEditCancel.bind(Object(Y.a)(n)),n.onRowEditCancel2=n.onRowEditCancel2.bind(Object(Y.a)(n)),n.onRowEditChange=n.onRowEditChange.bind(Object(Y.a)(n)),n.onInputNumberChange=n.onInputNumberChange.bind(Object(Y.a)(n)),n.hideDeleteProductDialog=n.hideDeleteProductDialog.bind(Object(Y.a)(n)),n.hideDeleteProductsDialog=n.hideDeleteProductsDialog.bind(Object(Y.a)(n)),n.onCityChange=n.onCityChange.bind(Object(Y.a)(n)),n}return Object(E.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.procService.getMaterialCostDriverOutput({material:7001733}).then((function(t){return e.setState({materialCostDriverOutput:t.data.Sheet3})})),this.procService.getMaterialInfo({material:7001733}).then((function(t){return e.setState({materialInfo:t.data.data})}))}},{key:"searchCountry",value:function(e){var t=this;setTimeout((function(){var a;a=e.query.trim().length?t.countries.filter((function(t){return t.name.toLowerCase().startsWith(e.query.toLowerCase())})):Object(N.a)(t.state.countries.name),t.setState({filteredCountries:a})}),250)}},{key:"onEditorValueChange",value:function(e,t,a){var n=Object(N.a)(t.value);n[t.rowIndex][t.field]=a,this.setState(Object(F.a)({},"".concat(e),n))}},{key:"statusEditor",value:function(e,t){var a=this;return Object(m.jsx)(D.Dropdown,{value:t.rowData.inventoryStatus,options:this.statuses,optionLabel:"label",optionValue:"value",onChange:function(n){return a.onEditorValueChange(e,t,n.value)},style:{width:"100%"},placeholder:"Select a Status",itemTemplate:function(e){return Object(m.jsx)("span",{className:"product-badge status-".concat(e.value.toLowerCase()),children:e.label})}})}},{key:"inputTextEditor",value:function(e,t,a){var n=this;return Object(m.jsx)(_.InputText,{type:"text",value:t.rowData[a],onChange:function(a){return n.onEditorValueChange(e,t,a.target.value)}})}},{key:"nameEditor",value:function(e,t){return this.inputTextEditor(e,t,"name")}},{key:"quatityEditor",value:function(e,t){var a=this;return Object(m.jsx)(_.InputText,{type:"text",value:t.rowData.quantity,onChange:function(n){return a.onEditorValueChange(e,t,n.target.value)}})}},{key:"priceEditor",value:function(e,t){var a=this;return Object(m.jsx)(X.InputNumber,{value:t.rowData.price,onValueChange:function(n){return a.onEditorValueChange(e,t,n.value)}})}},{key:"onEditorSubmit",value:function(e){var t=e.columnProps,a=t.rowIndex,n=t.field;delete this.editingCellRows[a][n]}},{key:"onRowEditInit",value:function(e){this.originalRows[e.index]=Object(q.a)({},this.state.products[e.index])}},{key:"onRowEditCancel",value:function(e){var t=Object(N.a)(this.state.products);t[e.index]=this.originalRows[e.index],delete this.originalRows[e.index],this.setState({products3:t})}},{key:"onRowEditInit2",value:function(e){this.originalRows2[e.index]=Object(q.a)({},this.state.products4[e.index])}},{key:"onRowEditChange",value:function(e){this.setState({editingRows:e.data})}},{key:"onRowEditCancel2",value:function(e){var t=Object(N.a)(this.state.products4);t[e.index]=this.originalRows2[e.index],delete this.originalRows2[e.index],this.setState({products4:t})}},{key:"openNew",value:function(){this.setState({product:this.emptyProduct,submitted:!1,productDialog:!0})}},{key:"hideDialog",value:function(){this.setState({submitted:!1,productDialog:!1})}},{key:"hideDeleteProductDialog",value:function(){this.setState({deleteProductDialog:!1})}},{key:"hideDeleteProductsDialog",value:function(){this.setState({deleteProductsDialog:!1})}},{key:"saveProduct",value:function(){var e={submitted:!0};if(this.state.product.name.trim()){var t=Object(N.a)(this.state.products),a=Object(q.a)({},this.state.product);if(this.state.product.id)t[this.findIndexById(this.state.product.id)]=a,this.toast.show({severity:"success",summary:"Successful",detail:"Product Updated",life:3e3});else a.id=this.createId(),a.image="product-placeholder.svg",t.push(a),this.toast.show({severity:"success",summary:"Successful",detail:"Product Created",life:3e3});e=Object(q.a)(Object(q.a)({},e),{},{products:t,productDialog:!1,product:this.emptyProduct})}this.setState(e)}},{key:"createId",value:function(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=0;a<5;a++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}},{key:"editProduct",value:function(e){this.setState({product:Object(q.a)({},e),productDialog:!0})}},{key:"confirmDeleteProduct",value:function(e){this.setState({product:e,deleteProductDialog:!0})}},{key:"deleteProduct",value:function(){var e=this,t=this.state.products.filter((function(t){return t.id!==e.state.product.id}));this.setState({products:t,deleteProductDialog:!1,product:this.emptyProduct}),this.toast.show({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3})}},{key:"onInputChange",value:function(e,t){var a=e.target&&e.target.value||"",n=Object(q.a)({},this.state.product);n["".concat(t)]=a,this.setState({product:n})}},{key:"onInputNumberChange",value:function(e,t){var a=e.value||0,n=Object(q.a)({},this.state.product);n["".concat(t)]=a,this.setState({product:n})}},{key:"leftToolbarTemplate",value:function(){return Object(m.jsx)(r.a.Fragment,{children:Object(m.jsx)(f.Button,{label:"New",icon:"pi pi-plus",onClick:this.openNew})})}},{key:"actionBodyTemplate",value:function(e){var t=this;return Object(m.jsx)(r.a.Fragment,{children:Object(m.jsx)(f.Button,{icon:"pi pi-trash",className:"p-button-text p-button-secondary",onClick:function(){return t.confirmDeleteProduct(e)},style:{width:"30px"}})})}},{key:"render",value:function(){var e=this,t=[];this.state.seriesName.length>0&&(t=this.state.seriesName.map((function(e,t){return{index:t+1,series:e.name}})));var a=Object(m.jsxs)(r.a.Fragment,{children:[Object(m.jsx)(f.Button,{label:"Cancel",icon:"pi pi-times",className:"p-button-text",onClick:this.hideDialog}),Object(m.jsx)(f.Button,{label:"Save",icon:"pi pi-check",className:"p-button-text",onClick:this.saveProduct})]}),n=Object(m.jsxs)(r.a.Fragment,{children:[Object(m.jsx)(f.Button,{label:"No",icon:"pi pi-times",className:"p-button-text",onClick:this.hideDeleteProductDialog}),Object(m.jsx)(f.Button,{label:"Yes",icon:"pi pi-check",className:"p-button-text",onClick:this.deleteProduct})]}),i=Object(m.jsxs)(r.a.Fragment,{children:[Object(m.jsx)(f.Button,{label:"No",icon:"pi pi-times",className:"p-button-text",onClick:this.hideDeleteProductsDialog}),Object(m.jsx)(f.Button,{label:"Yes",icon:"pi pi-check",className:"p-button-text",onClick:this.deleteSelectedProducts})]});return Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{className:"card",children:[Object(m.jsx)("h4",{children:"Material Information"}),Object(m.jsxs)(I.DataTable,{value:this.state.materialInfo,children:[Object(m.jsx)(w.Column,{field:"material",header:"Material Number",style:{width:"14%"}}),Object(m.jsx)(w.Column,{field:"type",header:"Type",style:{width:"14%"}}),Object(m.jsx)(w.Column,{field:"description",header:"Description",style:{width:"30%"}}),Object(m.jsx)(w.Column,{field:"group",header:"Group",style:{width:"14%"}}),Object(m.jsx)(w.Column,{field:"class",header:"Class",style:{width:"14%"}}),Object(m.jsx)(w.Column,{field:"criticality",header:"Criticality",style:{width:"14%"}})]})]}),Object(m.jsxs)("div",{className:"card",children:[Object(m.jsx)("h4",{children:"Price Prediction Cost Driver Output"}),Object(m.jsxs)(I.DataTable,{value:this.state.materialCostDriverOutput,paginator:!0,rows:5,rowsPerPageOptions:[5,10,20],paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",children:[Object(m.jsx)(w.Column,{field:"materialcode",header:"Material Number"}),Object(m.jsx)(w.Column,{field:"item_composition_in_english",header:"Composition"}),Object(m.jsx)(w.Column,{field:"concentration_percentage",header:"Percentage"})]})]}),Object(m.jsx)("h5",{children:"Select Plant"}),Object(m.jsx)(D.Dropdown,{field:"Dropdown",style:{width:"100%",marginBottom:"15px"},options:this.plants,value:this.state.plant,onChange:this.onPlantChange,optionLabel:"label",placeholder:"Select a Plant"}),Object(m.jsx)("div",{className:"card ",children:Object(m.jsxs)("div",{className:"row",style:{display:"flex"},children:[Object(m.jsxs)("div",{className:"col-8",style:{width:"63%"},children:[Object(m.jsx)(J.Toast,{ref:function(t){return e.toast=t}}),Object(m.jsx)(Q.Toolbar,{left:this.leftToolbarTemplate}),Object(m.jsxs)(I.DataTable,{value:this.state.products,paginator:!0,rows:5,rowsPerPageOptions:[5,10,20],paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",editMode:"row",dataKey:"id",onRowEditInit:this.onRowEditInit,onRowEditCancel:this.onRowEditCancel,children:[Object(m.jsx)(w.Column,{field:"name",header:"Supplier Name",editor:function(t){return e.nameEditor("products",t)}}),Object(m.jsx)(w.Column,{field:"quantity",header:"Formula/Fixed Price",editor:function(t){return e.quatityEditor("products",t)}}),Object(m.jsx)(w.Column,{field:"price",header:"Max Capacity",editor:function(t){return e.priceEditor("products",t)}}),Object(m.jsx)(w.Column,{field:"Percentage",header:"Lead Time",editor:function(t){return e.leadTime("products",t)}}),Object(m.jsx)(w.Column,{rowEditor:!0,style:{width:"13%"}}),Object(m.jsx)(w.Column,{body:this.actionBodyTemplate,style:{width:"10%"}})]}),Object(m.jsx)("div",{style:{float:"right",margin:"10px 30px"},children:Object(m.jsx)(f.Button,{className:"btn btn-success btn-lg float-right",onClick:this.Onsave,children:"Save"})})]}),Object(m.jsxs)("div",{className:"col-4",style:{width:"33%"},children:[Object(m.jsxs)("div",{className:"card",children:[Object(m.jsx)("h5",{children:"Cost Driver"}),Object(m.jsx)(G.AutoComplete,{style:{width:"100%"},inputStyle:{width:"100%"},value:this.state.costDriver,suggestions:this.state.filteredCountries,options:this.countries,completeMethod:this.searchCountry,placeholder:"Select Cost Driver",field:"name",onChange:function(t){return e.setState({costDriver:t.value})}}),Object(m.jsx)("h5",{children:"Series Name"}),Object(m.jsx)(U.MultiSelect,{style:{width:"100%"},value:this.state.seriesName,options:this.cities,onChange:function(t){return e.setState({seriesName:t.value})},optionLabel:"name",placeholder:"Select Series Name",display:"chip"})]}),Object(m.jsx)("div",{className:"card",children:Object(m.jsxs)(I.DataTable,{value:t,children:[Object(m.jsx)(w.Column,{field:"index",header:"Sr. No.",style:{width:"20%"}}),Object(m.jsx)(w.Column,{field:"series",header:"Series Name"})]})})]})]})}),Object(m.jsxs)(x.Dialog,{visible:this.state.productDialog,style:{width:"600px"},header:"Product Details",modal:!0,className:"p-fluid",footer:a,onHide:this.hideDialog,children:[Object(m.jsxs)("div",{className:"p-field",children:[Object(m.jsx)("label",{htmlFor:"Material_Number",children:"Supplier Name"}),Object(m.jsx)(_.InputText,{id:"name",value:this.state.product.name,onChange:function(t){return e.onInputChange(t,"name")},required:!0,autoFocus:!0,className:l()({"p-invalid":this.state.submitted&&!this.state.product.name})}),this.state.submitted&&!this.state.product.name&&Object(m.jsx)("small",{className:"p-error",children:"Supplier Name is required."})]}),Object(m.jsxs)("div",{className:"p-field",children:[Object(m.jsx)("label",{htmlFor:"quantity",children:"Formula/Fixed Price"}),Object(m.jsx)(_.InputText,{id:"quantity",value:this.state.product.quantity,onChange:function(t){return e.onInputChange(t,"quantity")},required:!0}),this.state.submitted&&!this.state.product.quantity&&Object(m.jsx)("small",{className:"p-error",children:"Formula/Fixed Price is required."})]}),Object(m.jsxs)("div",{className:"p-field",children:[Object(m.jsx)("label",{htmlFor:"price",children:"Max Capacity"}),Object(m.jsx)(X.InputNumber,{id:"price",value:this.state.product.price,onValueChange:function(t){return e.onInputNumberChange(t,"price")},required:!0}),this.state.submitted&&!this.state.product.price&&Object(m.jsx)("small",{className:"p-error",children:"Max Capacity is required."})]}),Object(m.jsxs)("div",{className:"p-field",children:[Object(m.jsx)("label",{htmlFor:"Percentage",children:"Lead Time"}),Object(m.jsx)(X.InputNumber,{id:"Percentage",value:this.state.product.Percentage,onValueChange:function(t){return e.onInputNumberChange(t,"Percentage")},required:!0}),this.state.submitted&&!this.state.product.Percentage&&Object(m.jsx)("small",{className:"p-error",children:"Lead Time is required."})]})]}),Object(m.jsx)(x.Dialog,{visible:this.state.deleteProductDialog,style:{width:"450px"},header:"Confirm",modal:!0,footer:n,onHide:this.hideDeleteProductDialog,children:Object(m.jsxs)("div",{className:"confirmation-content",children:[Object(m.jsx)("i",{className:"pi pi-exclamation-triangle p-mr-3",style:{fontSize:"2rem"}}),this.state.product&&Object(m.jsxs)("span",{children:["Are you sure you want to delete ",Object(m.jsx)("b",{children:this.state.product.name}),"?"]})]})}),Object(m.jsx)(x.Dialog,{visible:this.state.deleteProductsDialog,style:{width:"450px"},header:"Confirm",modal:!0,footer:i,onHide:this.hideDeleteProductsDialog,children:Object(m.jsxs)("div",{className:"confirmation-content",children:[Object(m.jsx)("i",{className:"pi pi-exclamation-triangle p-mr-3",style:{fontSize:"2rem"}}),this.state.product&&Object(m.jsx)("span",{children:"Are you sure you want to delete the selected products?"})]})})]})}}]),a}(n.Component),$=function(){var e=Object(n.useState)("static"),t=Object(s.a)(e,2),a=t[0],r=(t[1],Object(n.useState)("dark")),i=Object(s.a)(r,2),o=i[0],c=(i[1],Object(n.useState)(!1)),_=Object(s.a)(c,2),h=_[0],j=_[1],O=Object(n.useState)(!1),f=Object(s.a)(O,2),D=f[0],x=f[1],P=Object(n.useState)(!1),E=Object(s.a)(P,2),g=E[0],v=E[1],C=Object(n.useRef)(),M=Object(u.e)(),I=!1,w=l()("layout-wrapper",{"layout-overlay":"overlay"===a,"layout-static":"static"===a,"layout-static-sidebar-inactive":h&&"static"===a,"layout-overlay-sidebar-active":D&&"overlay"===a,"layout-mobile-sidebar-active":g}),T=l()("layout-sidebar",{"layout-sidebar-dark":"dark"===o,"layout-sidebar-light":"light"===o}),S="dark"===o?"assets/layout/images/logo-white.svg":"assets/layout/images/logo.svg",L=function(){return window.innerWidth>1024};return Object(m.jsxs)("div",{className:w,onClick:function(e){I||(x(!1),v(!1)),I=!1},children:[Object(m.jsx)(p,{onToggleMenu:function(e){I=!0,L()?"overlay"===a?x((function(e){return!e})):"static"===a&&j((function(e){return!e})):v((function(e){return!e})),e.preventDefault()}}),Object(m.jsx)(d.a,{classNames:"layout-sidebar",timeout:{enter:200,exit:200},in:!L()||("static"===a?!h:"overlay"!==a||D),unmountOnExit:!0,children:Object(m.jsxs)("div",{ref:C,className:T,onClick:function(){I=!0},children:[Object(m.jsx)("div",{className:"layout-logo",style:{cursor:"pointer"},onClick:function(){return M.push("/")},children:Object(m.jsx)("img",{alt:"Logo",src:S,style:{width:"200px",margin:"0px 0px 15px 0px"}})}),Object(m.jsx)(b,{model:[{label:"Home",icon:"pi pi-fw pi-home",to:"/"},{label:"Demand And Inventory Analysis",icon:"pi pi-fw pi-clone",to:"/DemandAndInventoryAnalysis"},{label:"Cost And Index Price Analysis",icon:"pi pi-fw pi-chart-line",to:"/CostAndIndexPriceAnalysis"},{label:"Optimization",icon:"pi pi-fw pi-chart-bar",to:"/Optimization"}],onMenuItemClick:function(e){e.item.items||(x(!1),v(!1))}})]})}),Object(m.jsxs)("div",{className:"layout-main",children:[Object(m.jsx)(u.a,{path:"/",exact:!0,component:y}),Object(m.jsx)(u.a,{path:"/DemandAndInventoryAnalysis",exact:!0,component:B}),Object(m.jsx)(u.a,{path:"/CostAndIndexPriceAnalysis",exact:!0,component:W}),Object(m.jsx)(u.a,{path:"/Optimization",exact:!0,component:Z}),Object(m.jsx)(u.a,{path:"/Forcast",exact:!0,component:K.a}),Object(m.jsx)(u.a,{path:"/EditOptimize",exact:!0,component:z}),Object(m.jsx)(u.a,{path:"/FinalResult",exact:!0,component:V})]})]})},ee=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,163)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,i=t.getLCP,o=t.getTTFB;a(e),n(e),r(e),i(e),o(e)}))};o.a.render(Object(m.jsx)(h.a,{basename:"/dpp_demo",children:Object(m.jsx)($,{})}),document.getElementById("root")),ee()},25:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(15),r=a(16),i=a(5),o=a.n(i),s=function(){function e(){Object(n.a)(this,e)}return Object(r.a)(e,[{key:"getProductsSmall",value:function(){return o.a.get("assets/demo/data/products-small.json").then((function(e){return e.data.data})).catch((function(e){return console.log(e)}))}},{key:"getProducts",value:function(){return o.a.get("assets/demo/data/products.json").then((function(e){return e.data.data})).catch((function(e){return console.log(e)}))}},{key:"getProductsWithOrdersSmall",value:function(){return o.a.get("assets/demo/data/products-orders-small.json").then((function(e){return e.data.data})).catch((function(e){return console.log(e)}))}},{key:"getGlobalProducts",value:function(e){return o.a.get("assets/demo/data/products-small",{params:e}).then((function(e){return e.data})).catch((function(e){return console.log(e)}))}}]),e}()},26:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(12),r=a(15),i=a(16),o=a(5),s=a.n(o),c=function(){function e(){Object(r.a)(this,e)}return Object(i.a)(e,[{key:"getMaterialInfo",value:function(e){return s.a.get("assets/demo/data/material_info.json",{params:e}).then((function(e){return e})).catch((function(e){return console.log("error in getMaterialInfo ".concat(e.message))}))}},{key:"getDemandInfoRegression1",value:function(e){return s.a.get("assets/demo/data/demand_info_regression1.json",{params:e}).then((function(e){return e.data.Sheet3})).catch((function(e){return console.log("error in getDemandInfoRegression1 ".concat(e.message))}))}},{key:"getDemandUITable",value:function(e){return s.a.get("assets/demo/data/demand_ui_table.json",{params:e}).then((function(e){return e})).catch((function(e){return console.log("error in getDemandUITable ".concat(e.message))}))}},{key:"getHistoricalUnitPrice",value:function(e){return s.a.get("assets/demo/data/historical_unit_price.json",{params:e}).then((function(e){return e})).catch((function(e){return console.log("error in getHistoricalUnitPrice ".concat(e.message))}))}},{key:"getIcisAlertInfo",value:function(e){return s.a.get("assets/demo/data/icis_alert_info.json",{params:e}).then((function(e){return e})).catch((function(e){return console.log("error in getIcisAlertInfo ".concat(e.message))}))}},{key:"getIcisForecastErrorInfoUpdated",value:function(e){return s.a.get("assets/demo/data/icis_forecast_error_info_updated.json",{params:e}).then((function(e){return e})).catch((function(e){return console.log("error in getIcisForecastErrorInfoUpdated ".concat(e.message))}))}},{key:"getIcisForecastSid",value:function(e){return s.a.get("assets/demo/data/icis_forecast_sid.json",{params:e}).then((function(e){return e})).catch((function(e){return console.log("error in getIcisForecastSid ".concat(e.message))}))}},{key:"getInventoryInfo",value:function(e){return s.a.get("assets/demo/data/inventory_info.json",{params:e}).then((function(e){return e})).catch((function(e){return console.log("error in getInventoryInfo ".concat(e.message))}))}},{key:"getMaterialCostDriverOutput",value:function(e){return s.a.get("assets/demo/data/material_cost_driver_output.json",{params:e}).then((function(e){return e})).catch((function(e){return console.log("error in getMaterialCostDriverOutput ".concat(e.message))}))}},{key:"geTonRouteInfo",value:function(e){return s.a.get("assets/demo/data/on_route_info.json",{params:e}).then((function(e){return e})).catch((function(e){return console.log("error in geTonRouteInfo ".concat(e.message))}))}},{key:"getDemandInfoRegression2",value:function(e){return s.a.get("assets/demo/data/demand_info_regression1.json",{params:e}).then((function(e){return e})).catch((function(e){return console.log("error in getDemandInfoRegression1 ".concat(e.message))}))}},{key:"getPlants",value:function(e){return s.a.get("assets/demo/data/on_route_info.json",{params:e}).then((function(e){return Object(n.a)(new Set(e.data.Sheet2.map((function(e){return e.plant}))))})).catch((function(e){return console.log("error in getDemandInfoRegression1 ".concat(e.message))}))}},{key:"getDemandInfoRegressionSummaryTable",value:function(e){return s.a.get("assets/demo/data/demand_info_regression_summary_table.json",{params:e}).then((function(e){return e})).catch((function(e){return console.log("error in getDemandInfoRegressionSummaryTable ".concat(e.message))}))}},{key:"getIcisForecastSummaryTable",value:function(e){return s.a.get("assets/demo/data/icis_forecast_summary_table.json",{params:e}).then((function(e){return e})).catch((function(e){return console.log("error in getIcisForecastSummaryTable ".concat(e.message))}))}},{key:"getOrder",value:function(e){return s.a.get("assets/demo/data/order.json",{params:e}).then((function(e){return e})).catch((function(e){return console.log("error in getOrder ".concat(e.message))}))}}]),e}()},61:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Forcast}));var E_Projects_DPP_Demo_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(12),E_Projects_DPP_Demo_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(15),E_Projects_DPP_Demo_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(16),E_Projects_DPP_Demo_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(28),E_Projects_DPP_Demo_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(27),_services_ProductService__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(25),_services_ProcService__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(26),highcharts__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(33),highcharts__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(highcharts__WEBPACK_IMPORTED_MODULE_7__),highcharts_react_official__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(38),highcharts_react_official__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(highcharts_react_official__WEBPACK_IMPORTED_MODULE_8__),react__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_9__),primereact_datatable__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(6),primereact_datatable__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(primereact_datatable__WEBPACK_IMPORTED_MODULE_10__),primereact_column__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(2),primereact_column__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(primereact_column__WEBPACK_IMPORTED_MODULE_11__),primereact_button__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(8),primereact_button__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(primereact_button__WEBPACK_IMPORTED_MODULE_12__),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(0),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__),Forcast=function(_Component){Object(E_Projects_DPP_Demo_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_3__.a)(Forcast,_Component);var _super=Object(E_Projects_DPP_Demo_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_4__.a)(Forcast);function Forcast(props){var _this;return Object(E_Projects_DPP_Demo_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__.a)(this,Forcast),_this=_super.call(this,props),_this.convertData=function(){var data=_this.state.data;if(data){var suppliers=void 0!==data&&data.products||_this.props.location.state&&_this.props.location.state.suppliers,forecastedObj={},leadTimeObj={},supplierMaxCapacity={},convertedData=suppliers.map((function(el){if(Number(el.quantity))forecastedObj={name:el.name,field:"Forecasted Price",month1:Number(el.quantity),month2:Number(el.quantity),month3:Number(el.quantity),month4:Number(el.quantity),month5:Number(el.quantity),month6:Number(el.quantity)},leadTimeObj={name:el.name,field:"Lead Time",month1:el.Percentage,month2:el.Percentage,month3:el.Percentage,month4:el.Percentage,month5:el.Percentage,month6:el.Percentage},supplierMaxCapacity={name:el.name,field:"Supplier Max. Capacity",month1:el.price,month2:el.price,month3:el.price,month4:el.price,month5:el.price,month6:el.price};else{for(var _data=_this.state.data,seriesArr=_data.seriesName.map((function(e){return e.name})),str=el.quantity,regex=/\[/gi,result,indices=[];result=regex.exec(str);)indices.push(result.index);for(var res=[],i=0;i<6;i++){for(var duplicate=el.quantity,duplicateSeriesArr=Object(E_Projects_DPP_Demo_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__.a)(seriesArr),strArr=duplicate.split("");-1!==strArr.indexOf("[");){var avgMonthData=_this.weeklyValues[duplicateSeriesArr[0]][i],index=strArr.indexOf("[");strArr.splice(index,3,avgMonthData),duplicateSeriesArr.shift()}res.push(Number(eval(strArr.join("")).toFixed(2)))}forecastedObj={name:el.name,field:"Forecasted Price",month1:res[0],month2:res[1],month3:res[2],month4:res[3],month5:res[4],month6:res[5]},leadTimeObj={name:el.name,field:"Lead Time",month1:el.Percentage,month2:el.Percentage,month3:el.Percentage,month4:el.Percentage,month5:el.Percentage,month6:el.Percentage},supplierMaxCapacity={name:el.name,field:"Supplier Max. Capacity",month1:el.price,month2:el.price,month3:el.price,month4:el.price,month5:el.price,month6:el.price}}return{forecastedObj:forecastedObj,supplierMaxCapacity:supplierMaxCapacity,leadTimeObj:leadTimeObj}}));return _this.setState({supplierDetails:convertedData,count:_this.state.count+1})}},_this.back=function(){var e=_this.state.data,t=e.costDriver,a=e.seriesName,n=e.products,r=e.plant;_this.props.history.push("/Optimization",{costDriver:t,seriesName:a,products:n,plant:r})},_this.edit=function(){var e=_this.state,t=e.materialInfoproducts,a=e.InventoryInfoproducts,n=e.demandUITableproducts,r=e.icisForecastErrorInfoUpdatedproducts,i=e.data,o=e.supplierDetails,s=i.costDriver,c=i.seriesName,l=i.products,u=i.plant;_this.props.history.push("/EditOptimize",{costDriver:s,seriesName:c,products:l,plant:u,materialInfoproducts:t,InventoryInfoproducts:a,demandUITableproducts:n,icisForecastErrorInfoUpdatedproducts:r,supplierDetails:o})},_this.optimize=function(){var e=_this.state,t=e.materialInfoproducts,a=e.InventoryInfoproducts,n=e.demandUITableproducts,r=e.icisForecastErrorInfoUpdatedproducts,i=e.supplierDetails,o=e.data,s=o.costDriver,c=o.seriesName,l=o.products,u=o.plant;_this.props.history.push("/FinalResult",{costDriver:s,seriesName:c,products:l,plant:u,materialInfoproducts:t,InventoryInfoproducts:a,demandUITableproducts:n,icisForecastErrorInfoUpdatedproducts:r,supplierDetails:i})},_this.state={data:_this.props.location.state,products:[],materialInfo:[],InventoryInfo:[],demandUITable:[],icisForecastErrorInfoUpdated:[],HistoricalChartData:[],icisForecastSid:[],supplierDetails:[],count:0},_this.productService=new _services_ProductService__WEBPACK_IMPORTED_MODULE_5__.a,_this.procService=new _services_ProcService__WEBPACK_IMPORTED_MODULE_6__.a,_this.weeklyValues={"Film Posted DEL India 0-7 Days":[1535.85,1535.87,1535.87,1535.87,1535.87,1535.87],"HDPE Blow Mould Domestic FD EU no-data":[1743.61,1743.61,1743.61,1743.61,1743.61,1743.61],"Flat Yarn (Raffia) Spot DEL India W 0-7 Days":[1804.49,1804.49,1804.49,1804.49,1804.49,1804.49],"HDPE Film Domestic FD EU no-data":[1773.67,1773.67,1773.67,1773.67,1773.67,1773.67]},_this}return Object(E_Projects_DPP_Demo_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_2__.a)(Forcast,[{key:"componentDidMount",value:function(){var e=this;this.procService.getMaterialInfo({material:7001733}).then((function(t){return e.setState({materialInfo:t.data.data})})),this.procService.getInventoryInfo({material:7001733}).then((function(t){return e.setState({InventoryInfo:t.data.Sheet2})})),this.procService.getDemandUITable({material:7001733}).then((function(t){return e.setState({demandUITable:t.data.Sheet2})})),this.procService.getHistoricalUnitPrice({material:7001733}).then((function(t){var a=(e.state.data&&e.state.data).plant,n=t.data.Sheet2.filter((function(e){return e.plant===a})).map((function(e){var t=e.posting_date.split("/").map((function(e,t){return 2===t?20+e:e})).join("/");return[(t=new Date(t)).getTime(),Number(e.unit_price_usd)]})),r=[{name:a,data:n.slice(-12)}];return e.setState({HistoricalChartData:r})})),this.procService.getIcisForecastErrorInfoUpdated({material:7001733}).then((function(t){var a=t.data,n=[];return n.push(a.Sheet1[a.Sheet1.length-1]),n.push(a.Sheet2[a.Sheet2.length-1]),n.push(a.Sheet3[a.Sheet3.length-1]),n.push(a.Sheet4[a.Sheet4.length-1]),e.setState({icisForecastErrorInfoUpdated:n})})),this.procService.getIcisForecastSid({material:7001733}).then((function(t){return e.setState({icisForecastSid:t.data})}))}},{key:"render",value:function(){var e,t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","month2"],a=new Date,n=a.getMonth(),r=a.getFullYear(),i=n>11?t[n%11]+"-"+r+1:t[n]+"-"+r,o=n+1>11?t[(n+1)%11]+"-"+r+1:t[n+1]+"-"+r,s=n+2>11?t[(n+2)%11]+"-"+r+1:t[n+2]+"-"+r,c=n+3>11?t[(n+3)%11]+"-"+r+1:t[n+3]+"-"+r,l=n+4>11?t[(n+4)%11]+"-"+r+1:t[n+4]+"-"+r,u=n+5>11?t[(n+5)%11]+"-"+r+1:t[n+5]+"-"+r,d=this.state,_=d.data,m=d.InventoryInfo,p=d.icisForecastErrorInfoUpdated,h=d.supplierDetails;d.count<2&&_&&this.convertData();var j=h.length>0?h.map((function(e){return e.forecastedObj})):[],b=h.length>0?h.map((function(e){return{name:e.forecastedObj.name,data:[[i,e.forecastedObj.month1],[o,e.forecastedObj.month2],[s,e.forecastedObj.month3],[c,e.forecastedObj.month4],[l,e.forecastedObj.month5],[u,e.forecastedObj.month6]]}})):[],O=null==_&&void 0===_||!m?m:m.filter((function(e){return e.plant===_.plant})),f=null!=_||void 0!==_?_.seriesName.map((function(e){return p.filter((function(t){return t.series===e.name}))})):[],D=null!=_||void 0!==_?(e=[]).concat.apply(e,Object(E_Projects_DPP_Demo_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__.a)(f)):[],x=_?D:p,P={chart:{zoomType:"x"},title:{text:"Forecasted Supplier Price Trend",align:"center"},yAxis:{title:{text:"USD/Ton"}},xAxis:{categories:[i,o,s,c,l,u],title:{text:"Dates"}},legend:{layout:"horizontal",align:"center",verticalAlign:"bottom"},plotOptions:{series:{label:{connectorAllowed:!1}}},series:b,responsive:{rules:[{condition:{maxWidth:500},chartOptions:{legend:{layout:"horizontal",align:"center",verticalAlign:"bottom"}}}]}},E={chart:{zoomType:"x"},title:{text:"Sabic Historical Prices",align:"center"},yAxis:{title:{text:"USD/Ton"}},xAxis:{type:"datetime"},legend:{layout:"horizontal",align:"center",verticalAlign:"bottom"},plotOptions:{series:{label:{connectorAllowed:!1},pointStart:2010}},series:this.state.HistoricalChartData,responsive:{rules:[{condition:{maxWidth:500},chartOptions:{legend:{layout:"horizontal",align:"center",verticalAlign:"bottom"}}}]}};return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)("div",{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)("div",{className:"card",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)("h4",{children:"Material Information"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)(primereact_datatable__WEBPACK_IMPORTED_MODULE_10__.DataTable,{value:this.state.materialInfo,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(primereact_column__WEBPACK_IMPORTED_MODULE_11__.Column,{field:"material",header:"Material Number",style:{width:"14%"}}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(primereact_column__WEBPACK_IMPORTED_MODULE_11__.Column,{field:"type",header:"Type",style:{width:"14%"}}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(primereact_column__WEBPACK_IMPORTED_MODULE_11__.Column,{field:"description",header:"Description",style:{width:"30%"}}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(primereact_column__WEBPACK_IMPORTED_MODULE_11__.Column,{field:"group",header:"Group",style:{width:"14%"}}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(primereact_column__WEBPACK_IMPORTED_MODULE_11__.Column,{field:"class",header:"Class",style:{width:"14%"}}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(primereact_column__WEBPACK_IMPORTED_MODULE_11__.Column,{field:"criticality",header:"Criticality",style:{width:"14%"}})]})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)("div",{className:"card",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)("h4",{children:[" Plant Data (in Ton) ",_&&_.plant]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)(primereact_datatable__WEBPACK_IMPORTED_MODULE_10__.DataTable,{value:O,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(primereact_column__WEBPACK_IMPORTED_MODULE_11__.Column,{field:"warehouse_capacity",header:"Warehouse Capacity(Tons)"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(primereact_column__WEBPACK_IMPORTED_MODULE_11__.Column,{field:"safety_stock",header:"Safety Stock"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(primereact_column__WEBPACK_IMPORTED_MODULE_11__.Column,{field:"opening_stock",header:"Closing Stock"})]})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)("div",{className:"card",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)("h4",{children:"Demand Prediction for next 6 months across all plants"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)(primereact_datatable__WEBPACK_IMPORTED_MODULE_10__.DataTable,{value:this.state.demandUITable,paginator:!0,rows:5,rowsPerPageOptions:[5,10,20],paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(primereact_column__WEBPACK_IMPORTED_MODULE_11__.Column,{field:"avg_total_consumption",header:"Demand Details"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(primereact_column__WEBPACK_IMPORTED_MODULE_11__.Column,{field:"5/1/21",header:"".concat(i)}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(primereact_column__WEBPACK_IMPORTED_MODULE_11__.Column,{field:"6/1/21",header:"".concat(o)}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(primereact_column__WEBPACK_IMPORTED_MODULE_11__.Column,{field:"7/1/21",header:"".concat(s)}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(primereact_column__WEBPACK_IMPORTED_MODULE_11__.Column,{field:"8/1/21",header:"".concat(c)}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(primereact_column__WEBPACK_IMPORTED_MODULE_11__.Column,{field:"9/1/21",header:"".concat(l)}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(primereact_column__WEBPACK_IMPORTED_MODULE_11__.Column,{field:"10/1/21",header:"".concat(u)})]})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)("div",{className:"card",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)("h4",{children:"Forcasted Price (in USD) For Suppliers"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)(primereact_datatable__WEBPACK_IMPORTED_MODULE_10__.DataTable,{value:j,paginator:!0,rows:5,rowsPerPageOptions:[5,10,20],paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(primereact_column__WEBPACK_IMPORTED_MODULE_11__.Column,{field:"name",header:"Supplier Name"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(primereact_column__WEBPACK_IMPORTED_MODULE_11__.Column,{field:"month1",header:"".concat(i)}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(primereact_column__WEBPACK_IMPORTED_MODULE_11__.Column,{field:"month2",header:"".concat(o)}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(primereact_column__WEBPACK_IMPORTED_MODULE_11__.Column,{field:"month3",header:"".concat(s)}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(primereact_column__WEBPACK_IMPORTED_MODULE_11__.Column,{field:"month4",header:"".concat(c)}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(primereact_column__WEBPACK_IMPORTED_MODULE_11__.Column,{field:"month4",header:"".concat(l)}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(primereact_column__WEBPACK_IMPORTED_MODULE_11__.Column,{field:"month5",header:"".concat(u)})]})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)("div",{className:"card",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)("h4",{children:"Cost Driver Accuracy"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)(primereact_datatable__WEBPACK_IMPORTED_MODULE_10__.DataTable,{value:x,paginator:!0,rows:5,rowsPerPageOptions:[5,10,20],paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(primereact_column__WEBPACK_IMPORTED_MODULE_11__.Column,{field:"material",header:"Cost Driver"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(primereact_column__WEBPACK_IMPORTED_MODULE_11__.Column,{field:"series",header:"Series"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(primereact_column__WEBPACK_IMPORTED_MODULE_11__.Column,{field:"first_month_accuracy",header:"".concat(i)}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(primereact_column__WEBPACK_IMPORTED_MODULE_11__.Column,{field:"second_month_accuracy",header:"".concat(o)}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(primereact_column__WEBPACK_IMPORTED_MODULE_11__.Column,{field:"third_month_accuracy",header:"".concat(s)}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(primereact_column__WEBPACK_IMPORTED_MODULE_11__.Column,{field:"fourth_month_accuracy",header:"".concat(c)}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(primereact_column__WEBPACK_IMPORTED_MODULE_11__.Column,{field:"fifth_month_accuracy",header:"".concat(l)}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(primereact_column__WEBPACK_IMPORTED_MODULE_11__.Column,{field:"sixth_month_accuracy",header:"".concat(u)})]})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)("div",{style:{display:"flex",flexBasis:"row",justifyContent:"space-between"},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)("div",{style:{width:"49%",justifyContent:"center"},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(highcharts_react_official__WEBPACK_IMPORTED_MODULE_8___default.a,{highcharts:highcharts__WEBPACK_IMPORTED_MODULE_7___default.a,options:E})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)("div",{style:{width:"49%",justifyContent:"center"},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(highcharts_react_official__WEBPACK_IMPORTED_MODULE_8___default.a,{highcharts:highcharts__WEBPACK_IMPORTED_MODULE_7___default.a,options:P})})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)("div",{style:{display:"flex",margin:"5px 10px",float:"right"},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(primereact_button__WEBPACK_IMPORTED_MODULE_12__.Button,{label:"Back",style:{margin:"5px 10px"},onClick:this.back}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(primereact_button__WEBPACK_IMPORTED_MODULE_12__.Button,{label:"Edit",style:{margin:"5px 10px"},onClick:this.edit}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(primereact_button__WEBPACK_IMPORTED_MODULE_12__.Button,{label:"Optimize",style:{margin:"5px 10px"},onClick:this.optimize})]})]})}}]),Forcast}(react__WEBPACK_IMPORTED_MODULE_9__.Component)},94:function(e,t,a){}},[[162,1,2]]]);
//# sourceMappingURL=main.1807668f.chunk.js.map